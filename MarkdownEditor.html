<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="editor.md/css/editormd.min.css" />
    <link rel="stylesheet" href="editor.md/css/editormd.preview.css" />
    <link rel="stylesheet" href="/MarkdownEidtor.css">
    <style>
        body {
            margin: 0;
            width: 100vw;
            height: 99vh;
        }

        ::-webkit-scrollbar {
            width: 0px;
        }

        #editor {
            margin: 0;
        }
    </style>
    <div id="editor">
        <!-- Tips: Editor.md can auto append a `<textarea>` tag -->
        <textarea style="display:none;">### Hello Editor.md !</textarea>
    </div>
    <script src="/jquery-2.2.4.min.js"></script>
    <script src="editor.md/editormd.min.js"></script>
    <script src="editor.md/lib/marked.min.js"></script>
    <script src="editor.md/lib/prettify.min.js"></script>
    <script type="text/javascript">
        $(function () {
            var editor = editormd("editor", {
                width: "100%",
                height: "100%",
                markdown: "# 114514\n## 114514",
                path: "editor.md/lib/",
                onchange: function () {
                    console.dir(this.getMarkdown()); var items = document.querySelectorAll('.item');
                    items.forEach(function (item) {
                        var divs = item.querySelectorAll('div');
                        if (divs.length >= 2) {
                            var img = divs[1].querySelectorAll('img');
                            img.forEach(function (img) {
                                img.style.borderRadius = '5px';
                            });
                            var table = divs[1].querySelectorAll('table');
                            table.forEach(function (table) {
                                table.style.border = '1px solid #333';
                                table.style.borderRadius = '5px';
                                const width = table.offsetWidth;
                                const margin = 160 - (width / 2);
                                table.style.marginLeft = `${margin}px`;
                                table.style.marginTop = '0px';
                                table.style.marginBotton = '0px';
                            });
                            var hr = divs[1].querySelectorAll('hr');
                            hr.forEach(function (hr) {
                                hr.style.border = '1px solid #5473F8';
                                hr.style.height = '0px';
                                hr.style.boderRadius = '1px';
                            });
                        }
                    });
                },
                onpreviewing: function () {
                    console.log('onpreviewing');
                },
                onpreviewed: function () {
                    console.log('onpreviewed');
                },
                placeholder: "现在开始编写Markdown！",
                fontSize: "16px",
                dialogDraggable: false,
                dialogMaskBgColor: "#333",
                dialogMaskOpacity: 0.5,
                saveHTMLToTextarea: true,
                taskList: true,
                emoji: true,
                tex: true,
                flowChart: true,
                sequenceDiagram: false,
            });
        });
    </script>
</head>

<body>
</body>

</html>