<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="editor.md/css/editormd.min.css" />
    <link rel="stylesheet" href="editor.md/css/editormd.preview.css" />
    <link rel="stylesheet" href="/MarkdownEidtor.css">
    <style>
        body {
            margin: 0;
            width: 100vw;
            height: 99vh;
        }

        ::-webkit-scrollbar {
            width: 0px;
        }

        #editor {
            margin: 0;
        }
    </style>
    <script src="/jquery-2.2.4.min.js"></script>
    <script src="editor.md/editormd.min.js"></script>
    <script src="editor.md/lib/marked.min.js"></script>
    <script src="editor.md/lib/prettify.min.js"></script>
    <script type="text/javascript">
        $(function () {
            var editor = editormd("editor", {
                width: "100%",
                height: "100%",
                markdown: "# 114514\n## 114514",
                path: "editor.md/lib/",
                onchange: function () {
                    console.dir(this.getMarkdown());
                    var items = document.querySelectorAll('div.editormd-preview>div>table');
                    console.log(items)
                    items.forEach(function (table) {
                        const width = table.offsetWidth;
                        const totalWidth = document.querySelector('div.editormd-preview>div').offsetWidth;
                        const margin = totalWidth - (width / 2);
                        table.style.marginLeft = `${margin}px`;
                        table.style.marginTop = '0px';
                        table.style.marginBotton = '0px';
                    });
                },
                onpreviewing: function () {
                    console.log('onpreviewing');
                },
                onpreviewed: function () {
                    console.log('onpreviewed');
                },
                placeholder: "现在开始编写Markdown！",
                fontSize: "16px",
                dialogDraggable: false,
                dialogMaskBgColor: "#333",
                dialogMaskOpacity: 0.5,
                saveHTMLToTextarea: true,
                taskList: true,
                emoji: true,
                tex: true,
                flowChart: true,
                sequenceDiagram: false,
            });
        });
    </script>
</head>

<body>
    <div id="editor"></div>
</body>

</html>